<h1 class="text-2xl font-bold mb-4">Invoices Summary</h1>

<div *ngFor="let s of summary" class="border rounded p-4 mb-4">
  <div class="flex justify-between items-center cursor-pointer" (click)="toggleTenant(s.tenantName)">
    <div class="font-semibold">{{ s.tenantName }}</div>
    <div class="text-gray-500">{{ s.month }} | ₱ {{ s.totalAmount }} | {{ s.totalInvoices }} invoices</div>
  </div>

  <div *ngIf="expandedTenant === s.tenantName" class="mt-2 ml-4">
    <button (click)="toggleMonth(s.month)" class="bg-blue-500 text-white px-3 py-1 rounded mt-2">
      View Details
    </button>

    <table *ngIf="expandedMonth === s.month" class="w-full mt-2 border">
      <thead>
        <tr class="bg-gray-200">
          <th class="border px-2 py-1">Date</th>
          <th class="border px-2 py-1">Description</th>
          <th class="border px-2 py-1">Total</th>
          <th class="border px-2 py-1">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let invoice of s.invoices">
          <td class="border px-2 py-1">{{ invoice.date }}</td>
          <td class="border px-2 py-1">{{ invoice.description }}</td>
          <td class="border px-2 py-1">₱ {{ invoice.total }}</td>
          <td class="border px-2 py-1">{{ invoice.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
